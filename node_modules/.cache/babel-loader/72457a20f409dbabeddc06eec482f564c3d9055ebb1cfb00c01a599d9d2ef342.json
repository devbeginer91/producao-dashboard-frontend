{"ast":null,"code":"import React from'react';import axios from'axios';import{formatDateToLocalISO}from'../App';// Importando a função de App.js\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PedidoForm=_ref=>{let{novoPedido,setNovoPedido,pedidoParaEditar,setPedidoParaEditar,setMostrarFormulario,setMensagem,carregarPedidos,setPedidos,setPedidosAndamento,setPedidosConcluidos,setMostrarModalPesoVolume,setPedidoParaConcluir,moverParaAndamento,formatDateToLocalISO// Recebendo a função como prop\n}=_ref;const handleSubmit=async e=>{e.preventDefault();const camposObrigatorios=['empresa','numeroOS','dataEntrada','previsaoEntrega'];const erros=camposObrigatorios.filter(campo=>!novoPedido[campo]);if(erros.length>0||!Array.isArray(novoPedido.itens)||!novoPedido.itens.length||novoPedido.itens.some(item=>!item.codigoDesenho||!item.quantidadePedido)){setMensagem('Preencha todos os campos obrigatórios e adicione ao menos um item com código e quantidade.');return;}const dataEntrada=new Date(novoPedido.dataEntrada);const previsaoEntrega=new Date(novoPedido.previsaoEntrega);if(isNaN(dataEntrada.getTime())||isNaN(previsaoEntrega.getTime())){setMensagem('Datas inválidas.');return;}const inicioValido=formatDateToLocalISO(new Date(),'handleSubmit');const pedidoParaEnviar={...novoPedido,inicio:inicioValido,tempo:novoPedido.status==='novo'?0:novoPedido.tempo,status:novoPedido.status,itens:novoPedido.itens.map(item=>({codigoDesenho:item.codigoDesenho,quantidadePedido:parseInt(item.quantidadePedido,10)||0,quantidadeEntregue:parseInt(item.quantidadeEntregue||0,10)}))};console.log('Dados enviados ao backend:',pedidoParaEnviar);try{let resposta;if(pedidoParaEditar){if(novoPedido.status==='andamento'){setPedidoParaConcluir(pedidoParaEnviar);setMostrarModalPesoVolume(true);setMensagem('Preencha peso e volume para salvar a edição.');resetForm();return;}resposta=await axios.put(`http://localhost:5000/pedidos/${pedidoParaEditar.id}`,pedidoParaEnviar);await axios.post('http://localhost:5000/enviar-email',{pedido:resposta.data,observacao:''});atualizarListas(resposta.data);setMensagem('Pedido atualizado e e-mail enviado!');}else{resposta=await axios.post('http://localhost:5000/pedidos',pedidoParaEnviar);await axios.post('http://localhost:5000/enviar-email',{pedido:resposta.data,observacao:''});setPedidosAndamento(prev=>[...prev,resposta.data]);setMensagem('Pedido adicionado e e-mail enviado!');}resetForm();// Garante que o formulário seja limpo após o envio\n}catch(error){var _error$response;setMensagem('Erro ao processar pedido: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data.message)||error.message));await carregarPedidos();}};const atualizarListas=pedido=>{if(pedido.status==='novo'){setPedidosAndamento(prev=>[...prev.filter(p=>p.id!==pedido.id),pedido]);setPedidos(prev=>prev.filter(p=>p.id!==pedido.id));setPedidosConcluidos(prev=>prev.filter(p=>p.id!==pedido.id));}else if(pedido.status==='andamento'){setPedidos(prev=>[...prev.filter(p=>p.id!==pedido.id),pedido]);setPedidosAndamento(prev=>prev.filter(p=>p.id!==pedido.id));setPedidosConcluidos(prev=>prev.filter(p=>p.id!==pedido.id));}else if(pedido.status==='concluido'){setPedidosConcluidos(prev=>[...prev.filter(p=>p.id!==pedido.id),pedido]);setPedidos(prev=>prev.filter(p=>p.id!==pedido.id));setPedidosAndamento(prev=>prev.filter(p=>p.id!==pedido.id));}};const resetForm=()=>{const novoInicio=formatDateToLocalISO(new Date(),'resetForm');setNovoPedido({empresa:'',numeroOS:'',dataEntrada:'',previsaoEntrega:'',responsavel:'',status:'novo',inicio:novoInicio,tempo:0,peso:null,volume:null,dataConclusao:null,pausado:0,tempoPausado:0,dataPausada:null,itens:[{codigoDesenho:'',quantidadePedido:''}]});setMostrarFormulario(false);setPedidoParaEditar(null);};const adicionarItem=()=>{setNovoPedido({...novoPedido,itens:Array.isArray(novoPedido.itens)?[...novoPedido.itens,{codigoDesenho:'',quantidadePedido:''}]:[{codigoDesenho:'',quantidadePedido:''}]});};const removerItem=index=>{setNovoPedido({...novoPedido,itens:Array.isArray(novoPedido.itens)?novoPedido.itens.filter((_,i)=>i!==index):[{codigoDesenho:'',quantidadePedido:''}]});};const atualizarItem=(index,campo,valor)=>{const itensAtuais=Array.isArray(novoPedido.itens)?[...novoPedido.itens]:[{codigoDesenho:'',quantidadePedido:''}];itensAtuais[index]={...itensAtuais[index],[campo]:valor};setNovoPedido({...novoPedido,itens:itensAtuais});};const itens=Array.isArray(novoPedido.itens)?novoPedido.itens:[{codigoDesenho:'',quantidadePedido:''}];return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"formulario\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"empresa\",children:\"Empresa *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"empresa\",value:novoPedido.empresa,onChange:e=>setNovoPedido({...novoPedido,empresa:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"numeroOS\",children:\"N\\xFAmero da OS *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"numeroOS\",value:novoPedido.numeroOS,onChange:e=>setNovoPedido({...novoPedido,numeroOS:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dataEntrada\",children:\"Data de Entrada *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"dataEntrada\",value:novoPedido.dataEntrada,onChange:e=>setNovoPedido({...novoPedido,dataEntrada:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"previsaoEntrega\",children:\"Previs\\xE3o de Entrega *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"previsaoEntrega\",value:novoPedido.previsaoEntrega,onChange:e=>setNovoPedido({...novoPedido,previsaoEntrega:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"responsavel\",children:\"Respons\\xE1vel\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"responsavel\",value:novoPedido.responsavel,onChange:e=>setNovoPedido({...novoPedido,responsavel:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"status\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"status\",value:novoPedido.status,onChange:e=>{const novoStatus=e.target.value;setNovoPedido({...novoPedido,status:novoStatus});if(pedidoParaEditar&&moverParaAndamento&&novoStatus==='andamento'){moverParaAndamento(pedidoParaEditar.id);}},children:[/*#__PURE__*/_jsx(\"option\",{value:\"novo\",children:\"Novo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"andamento\",children:\"Em Andamento\"}),/*#__PURE__*/_jsx(\"option\",{value:\"concluido\",children:\"Conclu\\xEDdo\"})]})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Itens do Pedido\"}),itens.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"item-group\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`codigoDesenho-${index}`,children:\"C\\xF3digo do Desenho *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:`codigoDesenho-${index}`,value:item.codigoDesenho,onChange:e=>atualizarItem(index,'codigoDesenho',e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`quantidadePedido-${index}`,children:\"Quantidade Pedida *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:`quantidadePedido-${index}`,value:item.quantidadePedido,onChange:e=>atualizarItem(index,'quantidadePedido',e.target.value),min:\"0\",required:true})]}),itens.length>1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removerItem(index),children:\"Remover\"})]},index)),/*#__PURE__*/_jsxs(\"div\",{className:\"form-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:adicionarItem,className:\"btn-adicionar-item\",children:\"Adicionar Item\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-submit\",children:pedidoParaEditar?'Salvar | QTD a Entregar':'Adicionar Pedido'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetForm,className:\"btn-cancelar\",children:\"Cancelar\"})]})]});};export default PedidoForm;","map":{"version":3,"names":["React","axios","formatDateToLocalISO","jsx","_jsx","jsxs","_jsxs","PedidoForm","_ref","novoPedido","setNovoPedido","pedidoParaEditar","setPedidoParaEditar","setMostrarFormulario","setMensagem","carregarPedidos","setPedidos","setPedidosAndamento","setPedidosConcluidos","setMostrarModalPesoVolume","setPedidoParaConcluir","moverParaAndamento","handleSubmit","e","preventDefault","camposObrigatorios","erros","filter","campo","length","Array","isArray","itens","some","item","codigoDesenho","quantidadePedido","dataEntrada","Date","previsaoEntrega","isNaN","getTime","inicioValido","pedidoParaEnviar","inicio","tempo","status","map","parseInt","quantidadeEntregue","console","log","resposta","resetForm","put","id","post","pedido","data","observacao","atualizarListas","prev","error","_error$response","response","message","p","novoInicio","empresa","numeroOS","responsavel","peso","volume","dataConclusao","pausado","tempoPausado","dataPausada","adicionarItem","removerItem","index","_","i","atualizarItem","valor","itensAtuais","onSubmit","className","children","htmlFor","type","value","onChange","target","required","novoStatus","min","onClick"],"sources":["C:/Users/User/producao-dashboard/frontend/src/components/pedidoForm.js"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { formatDateToLocalISO } from '../App'; // Importando a função de App.js\r\n\r\nconst PedidoForm = ({\r\n  novoPedido,\r\n  setNovoPedido,\r\n  pedidoParaEditar,\r\n  setPedidoParaEditar,\r\n  setMostrarFormulario,\r\n  setMensagem,\r\n  carregarPedidos,\r\n  setPedidos,\r\n  setPedidosAndamento,\r\n  setPedidosConcluidos,\r\n  setMostrarModalPesoVolume,\r\n  setPedidoParaConcluir,\r\n  moverParaAndamento,\r\n  formatDateToLocalISO, // Recebendo a função como prop\r\n}) => {\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const camposObrigatorios = ['empresa', 'numeroOS', 'dataEntrada', 'previsaoEntrega'];\r\n    const erros = camposObrigatorios.filter((campo) => !novoPedido[campo]);\r\n    if (erros.length > 0 || !Array.isArray(novoPedido.itens) || !novoPedido.itens.length || novoPedido.itens.some(item => !item.codigoDesenho || !item.quantidadePedido)) {\r\n      setMensagem('Preencha todos os campos obrigatórios e adicione ao menos um item com código e quantidade.');\r\n      return;\r\n    }\r\n\r\n    const dataEntrada = new Date(novoPedido.dataEntrada);\r\n    const previsaoEntrega = new Date(novoPedido.previsaoEntrega);\r\n    if (isNaN(dataEntrada.getTime()) || isNaN(previsaoEntrega.getTime())) {\r\n      setMensagem('Datas inválidas.');\r\n      return;\r\n    }\r\n\r\n    const inicioValido = formatDateToLocalISO(new Date(), 'handleSubmit');\r\n\r\n    const pedidoParaEnviar = {\r\n      ...novoPedido,\r\n      inicio: inicioValido,\r\n      tempo: novoPedido.status === 'novo' ? 0 : novoPedido.tempo,\r\n      status: novoPedido.status,\r\n      itens: novoPedido.itens.map(item => ({\r\n        codigoDesenho: item.codigoDesenho,\r\n        quantidadePedido: parseInt(item.quantidadePedido, 10) || 0,\r\n        quantidadeEntregue: parseInt(item.quantidadeEntregue || 0, 10),\r\n      })),\r\n    };\r\n\r\n    console.log('Dados enviados ao backend:', pedidoParaEnviar);\r\n\r\n    try {\r\n      let resposta;\r\n      if (pedidoParaEditar) {\r\n        if (novoPedido.status === 'andamento') {\r\n          setPedidoParaConcluir(pedidoParaEnviar);\r\n          setMostrarModalPesoVolume(true);\r\n          setMensagem('Preencha peso e volume para salvar a edição.');\r\n          resetForm();\r\n          return;\r\n        }\r\n        resposta = await axios.put(`http://localhost:5000/pedidos/${pedidoParaEditar.id}`, pedidoParaEnviar);\r\n        await axios.post('http://localhost:5000/enviar-email', { pedido: resposta.data, observacao: '' });\r\n        atualizarListas(resposta.data);\r\n        setMensagem('Pedido atualizado e e-mail enviado!');\r\n      } else {\r\n        resposta = await axios.post('http://localhost:5000/pedidos', pedidoParaEnviar);\r\n        await axios.post('http://localhost:5000/enviar-email', { pedido: resposta.data, observacao: '' });\r\n        setPedidosAndamento((prev) => [...prev, resposta.data]);\r\n        setMensagem('Pedido adicionado e e-mail enviado!');\r\n      }\r\n      resetForm(); // Garante que o formulário seja limpo após o envio\r\n    } catch (error) {\r\n      setMensagem('Erro ao processar pedido: ' + (error.response?.data.message || error.message));\r\n      await carregarPedidos();\r\n    }\r\n  };\r\n\r\n  const atualizarListas = (pedido) => {\r\n    if (pedido.status === 'novo') {\r\n      setPedidosAndamento((prev) => [...prev.filter((p) => p.id !== pedido.id), pedido]);\r\n      setPedidos((prev) => prev.filter((p) => p.id !== pedido.id));\r\n      setPedidosConcluidos((prev) => prev.filter((p) => p.id !== pedido.id));\r\n    } else if (pedido.status === 'andamento') {\r\n      setPedidos((prev) => [...prev.filter((p) => p.id !== pedido.id), pedido]);\r\n      setPedidosAndamento((prev) => prev.filter((p) => p.id !== pedido.id));\r\n      setPedidosConcluidos((prev) => prev.filter((p) => p.id !== pedido.id));\r\n    } else if (pedido.status === 'concluido') {\r\n      setPedidosConcluidos((prev) => [...prev.filter((p) => p.id !== pedido.id), pedido]);\r\n      setPedidos((prev) => prev.filter((p) => p.id !== pedido.id));\r\n      setPedidosAndamento((prev) => prev.filter((p) => p.id !== pedido.id));\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    const novoInicio = formatDateToLocalISO(new Date(), 'resetForm');\r\n    setNovoPedido({\r\n      empresa: '',\r\n      numeroOS: '',\r\n      dataEntrada: '',\r\n      previsaoEntrega: '',\r\n      responsavel: '',\r\n      status: 'novo',\r\n      inicio: novoInicio,\r\n      tempo: 0,\r\n      peso: null,\r\n      volume: null,\r\n      dataConclusao: null,\r\n      pausado: 0,\r\n      tempoPausado: 0,\r\n      dataPausada: null,\r\n      itens: [{ codigoDesenho: '', quantidadePedido: '' }],\r\n    });\r\n    setMostrarFormulario(false);\r\n    setPedidoParaEditar(null);\r\n  };\r\n\r\n  const adicionarItem = () => {\r\n    setNovoPedido({\r\n      ...novoPedido,\r\n      itens: Array.isArray(novoPedido.itens) ? [...novoPedido.itens, { codigoDesenho: '', quantidadePedido: '' }] : [{ codigoDesenho: '', quantidadePedido: '' }],\r\n    });\r\n  };\r\n\r\n  const removerItem = (index) => {\r\n    setNovoPedido({\r\n      ...novoPedido,\r\n      itens: Array.isArray(novoPedido.itens) ? novoPedido.itens.filter((_, i) => i !== index) : [{ codigoDesenho: '', quantidadePedido: '' }],\r\n    });\r\n  };\r\n\r\n  const atualizarItem = (index, campo, valor) => {\r\n    const itensAtuais = Array.isArray(novoPedido.itens) ? [...novoPedido.itens] : [{ codigoDesenho: '', quantidadePedido: '' }];\r\n    itensAtuais[index] = { ...itensAtuais[index], [campo]: valor };\r\n    setNovoPedido({ ...novoPedido, itens: itensAtuais });\r\n  };\r\n\r\n  const itens = Array.isArray(novoPedido.itens) ? novoPedido.itens : [{ codigoDesenho: '', quantidadePedido: '' }];\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"formulario\">\r\n      <div>\r\n        <label htmlFor=\"empresa\">Empresa *</label>\r\n        <input type=\"text\" id=\"empresa\" value={novoPedido.empresa} onChange={(e) => setNovoPedido({ ...novoPedido, empresa: e.target.value })} required />\r\n      </div>\r\n      <div>\r\n        <label htmlFor=\"numeroOS\">Número da OS *</label>\r\n        <input type=\"text\" id=\"numeroOS\" value={novoPedido.numeroOS} onChange={(e) => setNovoPedido({ ...novoPedido, numeroOS: e.target.value })} required />\r\n      </div>\r\n      <div>\r\n        <label htmlFor=\"dataEntrada\">Data de Entrada *</label>\r\n        <input type=\"date\" id=\"dataEntrada\" value={novoPedido.dataEntrada} onChange={(e) => setNovoPedido({ ...novoPedido, dataEntrada: e.target.value })} required />\r\n      </div>\r\n      <div>\r\n        <label htmlFor=\"previsaoEntrega\">Previsão de Entrega *</label>\r\n        <input type=\"date\" id=\"previsaoEntrega\" value={novoPedido.previsaoEntrega} onChange={(e) => setNovoPedido({ ...novoPedido, previsaoEntrega: e.target.value })} required />\r\n      </div>\r\n      <div>\r\n        <label htmlFor=\"responsavel\">Responsável</label>\r\n        <input type=\"text\" id=\"responsavel\" value={novoPedido.responsavel} onChange={(e) => setNovoPedido({ ...novoPedido, responsavel: e.target.value })} />\r\n      </div>\r\n      <div>\r\n        <label htmlFor=\"status\">Status</label>\r\n        <select id=\"status\" value={novoPedido.status} onChange={(e) => {\r\n          const novoStatus = e.target.value;\r\n          setNovoPedido({ ...novoPedido, status: novoStatus });\r\n          if (pedidoParaEditar && moverParaAndamento && novoStatus === 'andamento') {\r\n            moverParaAndamento(pedidoParaEditar.id);\r\n          }\r\n        }}>\r\n          <option value=\"novo\">Novo</option>\r\n          <option value=\"andamento\">Em Andamento</option>\r\n          <option value=\"concluido\">Concluído</option>\r\n        </select>\r\n      </div>\r\n\r\n      <h3>Itens do Pedido</h3>\r\n      {itens.map((item, index) => (\r\n        <div key={index} className=\"item-group\">\r\n          <div>\r\n            <label htmlFor={`codigoDesenho-${index}`}>Código do Desenho *</label>\r\n            <input\r\n              type=\"text\"\r\n              id={`codigoDesenho-${index}`}\r\n              value={item.codigoDesenho}\r\n              onChange={(e) => atualizarItem(index, 'codigoDesenho', e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor={`quantidadePedido-${index}`}>Quantidade Pedida *</label>\r\n            <input\r\n              type=\"number\"\r\n              id={`quantidadePedido-${index}`}\r\n              value={item.quantidadePedido}\r\n              onChange={(e) => atualizarItem(index, 'quantidadePedido', e.target.value)}\r\n              min=\"0\"\r\n              required\r\n            />\r\n          </div>\r\n          {itens.length > 1 && (\r\n            <button type=\"button\" onClick={() => removerItem(index)}>Remover</button>\r\n          )}\r\n        </div>\r\n      ))}\r\n      <div className=\"form-buttons\">\r\n        <button type=\"button\" onClick={adicionarItem} className=\"btn-adicionar-item\">Adicionar Item</button>\r\n        <button type=\"submit\" className=\"btn-submit\">{pedidoParaEditar ? 'Salvar | QTD a Entregar' : 'Adicionar Pedido'}</button>\r\n        <button type=\"button\" onClick={resetForm} className=\"btn-cancelar\">Cancelar</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PedidoForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}