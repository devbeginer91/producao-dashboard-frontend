{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ModalPesoVolume=_ref=>{let{pedidoParaConcluir,peso,setPeso,volume,setVolume,setMostrarModalPesoVolume,setPedidoParaConcluir,setPedidos,setPedidosConcluidos,setMensagem,carregarPedidos}=_ref;const[quantidadesParaAdicionar,setQuantidadesParaAdicionar]=useState((pedidoParaConcluir===null||pedidoParaConcluir===void 0?void 0:pedidoParaConcluir.itens.map(()=>''))||[]);const[pedidoCompleto,setPedidoCompleto]=useState(false);const formatDateToLocalISO=function(date){let context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'unknown';const d=date?new Date(date):new Date();if(isNaN(d.getTime())||typeof date==='string'&&date.includes('undefined')){console.warn(`[formatDateToLocalISO - ${context}] Data inválida detectada, usando data atual:`,date);return new Date().toLocaleString('sv-SE',{timeZone:'America/Sao_Paulo'}).slice(0,19);}const isoString=d.toLocaleString('sv-SE',{timeZone:'America/Sao_Paulo'}).slice(0,19);console.log(`[formatDateToLocalISO - ${context}] Data formatada: ${isoString}`);return isoString;};const verificarPedidoCompleto=novasQuantidadesEntregues=>{return pedidoParaConcluir===null||pedidoParaConcluir===void 0?void 0:pedidoParaConcluir.itens.every((item,index)=>{const novaQuantidadeEntregue=(item.quantidadeEntregue||0)+(parseInt(novasQuantidadesEntregues[index],10)||0);return novaQuantidadeEntregue>=(item.quantidadePedido||0);});};useEffect(()=>{if(pedidoParaConcluir!==null&&pedidoParaConcluir!==void 0&&pedidoParaConcluir.itemParaEditar){const completo=verificarPedidoCompleto(quantidadesParaAdicionar);setPedidoCompleto(completo);}},[quantidadesParaAdicionar,pedidoParaConcluir]);const handleSubmit=async e=>{e.preventDefault();const novasQuantidadesEntregues=pedidoParaConcluir.itens.map((item,index)=>{const quantidadeAdicionadaInput=quantidadesParaAdicionar[index];const quantidadeAdicionada=quantidadeAdicionadaInput===''?(item.quantidadePedido||0)-(item.quantidadeEntregue||0):parseInt(quantidadeAdicionadaInput,10)||0;return(item.quantidadeEntregue||0)+quantidadeAdicionada;});const algumaQuantidadePreenchida=quantidadesParaAdicionar.some(q=>q!=='');const pedidoEstaCompleto=pedidoParaConcluir!==null&&pedidoParaConcluir!==void 0&&pedidoParaConcluir.itemParaEditar?verificarPedidoCompleto(quantidadesParaAdicionar):true;if((pedidoEstaCompleto||algumaQuantidadePreenchida)&&(!peso||!volume)){alert('Por favor, preencha os campos de peso e volume para prosseguir.');return;}try{const inicioValido=formatDateToLocalISO(pedidoParaConcluir.inicio||new Date(),'handleSubmit - inicio');const novosItens=pedidoParaConcluir.itens.map((item,index)=>({...item,quantidadeEntregue:novasQuantidadesEntregues[index]}));if(pedidoEstaCompleto){const dataConclusao=formatDateToLocalISO(new Date(),'handleSubmit - conclusao');const pedidoConcluido={...pedidoParaConcluir,itens:novosItens,status:'concluido',inicio:inicioValido,peso:parseFloat(peso),volume:parseFloat(volume),dataConclusao,tempo:pedidoParaConcluir.tempo// Preserva o tempo de \"Em Andamento\"\n};console.log('Enviando pedido concluído:',pedidoConcluido);const resposta=await axios.put(`http://localhost:5000/pedidos/${pedidoParaConcluir.id}`,pedidoConcluido);await axios.post('http://localhost:5000/enviar-email',{pedido:resposta.data,observacao:''});setPedidos(prev=>prev.filter(p=>p.id!==pedidoConcluido.id));setPedidosConcluidos(prev=>[...prev,resposta.data]);setMensagem('Pedido concluído e e-mail enviado!');}else{const pedidoAtualizado={...pedidoParaConcluir,itens:novosItens,inicio:inicioValido,peso:peso?parseFloat(peso):null,volume:volume?parseFloat(volume):null};console.log('Enviando pedido atualizado:',pedidoAtualizado);const resposta=await axios.put(`http://localhost:5000/pedidos/${pedidoParaConcluir.id}`,pedidoAtualizado);await axios.post('http://localhost:5000/enviar-email',{pedido:resposta.data,observacao:''});setPedidos(prev=>prev.map(p=>p.id===pedidoAtualizado.id?resposta.data:p));setMensagem('Quantidades entregues atualizadas e e-mail enviado!');}setPeso('');setVolume('');setMostrarModalPesoVolume(false);setPedidoParaConcluir(null);}catch(error){var _error$response;setMensagem('Erro ao processar: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data.message)||error.message));await carregarPedidos();}};const handleQuantidadeChange=(index,value)=>{const novasQuantidades=[...quantidadesParaAdicionar];const maxPermitido=(pedidoParaConcluir.itens[index].quantidadePedido||0)-(pedidoParaConcluir.itens[index].quantidadeEntregue||0);const quantidadeAdicionada=value===''?'':Math.min(parseInt(value,10)||0,maxPermitido);novasQuantidades[index]=quantidadeAdicionada>=0||quantidadeAdicionada===''?quantidadeAdicionada:0;setQuantidadesParaAdicionar(novasQuantidades);};return/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:pedidoParaConcluir!==null&&pedidoParaConcluir!==void 0&&pedidoParaConcluir.itemParaEditar?'Quantidade a Entregar':'Concluir Pedido'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Itens do Pedido\"}),Array.isArray(pedidoParaConcluir===null||pedidoParaConcluir===void 0?void 0:pedidoParaConcluir.itens)&&pedidoParaConcluir.itens.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"itens-list\",children:pedidoParaConcluir.itens.map((item,index)=>{const quantidadeRestante=(item.quantidadePedido||0)-(item.quantidadeEntregue||0);return/*#__PURE__*/_jsxs(\"div\",{className:\"item-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-info\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"C\\xF3digo:\"}),\" \",item.codigoDesenho]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Qtd Pedida:\"}),\" \",item.quantidadePedido]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Qtd Entregue:\"}),\" \",item.quantidadeEntregue||0]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"A Entregar:\"}),\" \",quantidadeRestante-(parseInt(quantidadesParaAdicionar[index],10)||0)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantidade-entregue\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`quantidadeEntregue-${index}`,children:\"Adicionar Qtd Entregue:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:`quantidadeEntregue-${index}`,value:quantidadesParaAdicionar[index],onChange:e=>handleQuantidadeChange(index,e.target.value),min:\"0\",max:quantidadeRestante,disabled:quantidadeRestante<=0})]})]},index);})}):/*#__PURE__*/_jsx(\"p\",{children:\"Sem itens para exibir.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"peso\",children:[\"Peso (kg) \",pedidoCompleto||!(pedidoParaConcluir!==null&&pedidoParaConcluir!==void 0&&pedidoParaConcluir.itemParaEditar)?'*':'']}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"peso\",value:peso,onChange:e=>setPeso(e.target.value),min:\"0\",step:\"0.01\",required:pedidoCompleto||!(pedidoParaConcluir!==null&&pedidoParaConcluir!==void 0&&pedidoParaConcluir.itemParaEditar)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"volume\",children:[\"Volume (m\\xB3) \",pedidoCompleto||!(pedidoParaConcluir!==null&&pedidoParaConcluir!==void 0&&pedidoParaConcluir.itemParaEditar)?'*':'']}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"volume\",value:volume,onChange:e=>setVolume(e.target.value),min:\"0\",step:\"0.01\",required:pedidoCompleto||!(pedidoParaConcluir!==null&&pedidoParaConcluir!==void 0&&pedidoParaConcluir.itemParaEditar)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Concluir\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setPeso('');setVolume('');setMostrarModalPesoVolume(false);setPedidoParaConcluir(null);},children:\"Cancelar\"})]})]})]})});};export default ModalPesoVolume;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","ModalPesoVolume","_ref","pedidoParaConcluir","peso","setPeso","volume","setVolume","setMostrarModalPesoVolume","setPedidoParaConcluir","setPedidos","setPedidosConcluidos","setMensagem","carregarPedidos","quantidadesParaAdicionar","setQuantidadesParaAdicionar","itens","map","pedidoCompleto","setPedidoCompleto","formatDateToLocalISO","date","context","arguments","length","undefined","d","Date","isNaN","getTime","includes","console","warn","toLocaleString","timeZone","slice","isoString","log","verificarPedidoCompleto","novasQuantidadesEntregues","every","item","index","novaQuantidadeEntregue","quantidadeEntregue","parseInt","quantidadePedido","itemParaEditar","completo","handleSubmit","e","preventDefault","quantidadeAdicionadaInput","quantidadeAdicionada","algumaQuantidadePreenchida","some","q","pedidoEstaCompleto","alert","inicioValido","inicio","novosItens","dataConclusao","pedidoConcluido","status","parseFloat","tempo","resposta","put","id","post","pedido","data","observacao","prev","filter","p","pedidoAtualizado","error","_error$response","response","message","handleQuantidadeChange","value","novasQuantidades","maxPermitido","Math","min","className","children","onSubmit","Array","isArray","quantidadeRestante","codigoDesenho","htmlFor","type","onChange","target","max","disabled","step","required","onClick"],"sources":["C:/Users/User/producao-dashboard/frontend/src/components/ModalPesoVolume.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ModalPesoVolume = ({\r\n  pedidoParaConcluir,\r\n  peso,\r\n  setPeso,\r\n  volume,\r\n  setVolume,\r\n  setMostrarModalPesoVolume,\r\n  setPedidoParaConcluir,\r\n  setPedidos,\r\n  setPedidosConcluidos,\r\n  setMensagem,\r\n  carregarPedidos,\r\n}) => {\r\n  const [quantidadesParaAdicionar, setQuantidadesParaAdicionar] = useState(\r\n    pedidoParaConcluir?.itens.map(() => '') || []\r\n  );\r\n  const [pedidoCompleto, setPedidoCompleto] = useState(false);\r\n\r\n  const formatDateToLocalISO = (date, context = 'unknown') => {\r\n    const d = date ? new Date(date) : new Date();\r\n    if (isNaN(d.getTime()) || (typeof date === 'string' && date.includes('undefined'))) {\r\n      console.warn(`[formatDateToLocalISO - ${context}] Data inválida detectada, usando data atual:`, date);\r\n      return new Date().toLocaleString('sv-SE', { timeZone: 'America/Sao_Paulo' }).slice(0, 19);\r\n    }\r\n    const isoString = d.toLocaleString('sv-SE', { timeZone: 'America/Sao_Paulo' }).slice(0, 19);\r\n    console.log(`[formatDateToLocalISO - ${context}] Data formatada: ${isoString}`);\r\n    return isoString;\r\n  };\r\n\r\n  const verificarPedidoCompleto = (novasQuantidadesEntregues) => {\r\n    return pedidoParaConcluir?.itens.every((item, index) => {\r\n      const novaQuantidadeEntregue = (item.quantidadeEntregue || 0) + (parseInt(novasQuantidadesEntregues[index], 10) || 0);\r\n      return novaQuantidadeEntregue >= (item.quantidadePedido || 0);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (pedidoParaConcluir?.itemParaEditar) {\r\n      const completo = verificarPedidoCompleto(quantidadesParaAdicionar);\r\n      setPedidoCompleto(completo);\r\n    }\r\n  }, [quantidadesParaAdicionar, pedidoParaConcluir]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const novasQuantidadesEntregues = pedidoParaConcluir.itens.map((item, index) => {\r\n      const quantidadeAdicionadaInput = quantidadesParaAdicionar[index];\r\n      const quantidadeAdicionada = quantidadeAdicionadaInput === '' \r\n        ? (item.quantidadePedido || 0) - (item.quantidadeEntregue || 0)\r\n        : parseInt(quantidadeAdicionadaInput, 10) || 0;\r\n      return (item.quantidadeEntregue || 0) + quantidadeAdicionada;\r\n    });\r\n\r\n    const algumaQuantidadePreenchida = quantidadesParaAdicionar.some(q => q !== '');\r\n    const pedidoEstaCompleto = pedidoParaConcluir?.itemParaEditar ? verificarPedidoCompleto(quantidadesParaAdicionar) : true;\r\n\r\n    if ((pedidoEstaCompleto || algumaQuantidadePreenchida) && (!peso || !volume)) {\r\n      alert('Por favor, preencha os campos de peso e volume para prosseguir.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const inicioValido = formatDateToLocalISO(pedidoParaConcluir.inicio || new Date(), 'handleSubmit - inicio');\r\n      const novosItens = pedidoParaConcluir.itens.map((item, index) => ({\r\n        ...item,\r\n        quantidadeEntregue: novasQuantidadesEntregues[index],\r\n      }));\r\n\r\n      if (pedidoEstaCompleto) {\r\n        const dataConclusao = formatDateToLocalISO(new Date(), 'handleSubmit - conclusao');\r\n        const pedidoConcluido = {\r\n          ...pedidoParaConcluir,\r\n          itens: novosItens,\r\n          status: 'concluido',\r\n          inicio: inicioValido,\r\n          peso: parseFloat(peso),\r\n          volume: parseFloat(volume),\r\n          dataConclusao,\r\n          tempo: pedidoParaConcluir.tempo, // Preserva o tempo de \"Em Andamento\"\r\n        };\r\n\r\n        console.log('Enviando pedido concluído:', pedidoConcluido);\r\n\r\n        const resposta = await axios.put(`http://localhost:5000/pedidos/${pedidoParaConcluir.id}`, pedidoConcluido);\r\n        await axios.post('http://localhost:5000/enviar-email', { pedido: resposta.data, observacao: '' });\r\n        setPedidos((prev) => prev.filter((p) => p.id !== pedidoConcluido.id));\r\n        setPedidosConcluidos((prev) => [...prev, resposta.data]);\r\n        setMensagem('Pedido concluído e e-mail enviado!');\r\n      } else {\r\n        const pedidoAtualizado = {\r\n          ...pedidoParaConcluir,\r\n          itens: novosItens,\r\n          inicio: inicioValido,\r\n          peso: peso ? parseFloat(peso) : null,\r\n          volume: volume ? parseFloat(volume) : null,\r\n        };\r\n\r\n        console.log('Enviando pedido atualizado:', pedidoAtualizado);\r\n\r\n        const resposta = await axios.put(`http://localhost:5000/pedidos/${pedidoParaConcluir.id}`, pedidoAtualizado);\r\n        await axios.post('http://localhost:5000/enviar-email', { pedido: resposta.data, observacao: '' });\r\n        setPedidos((prev) => prev.map((p) => (p.id === pedidoAtualizado.id ? resposta.data : p)));\r\n        setMensagem('Quantidades entregues atualizadas e e-mail enviado!');\r\n      }\r\n\r\n      setPeso('');\r\n      setVolume('');\r\n      setMostrarModalPesoVolume(false);\r\n      setPedidoParaConcluir(null);\r\n    } catch (error) {\r\n      setMensagem('Erro ao processar: ' + (error.response?.data.message || error.message));\r\n      await carregarPedidos();\r\n    }\r\n  };\r\n\r\n  const handleQuantidadeChange = (index, value) => {\r\n    const novasQuantidades = [...quantidadesParaAdicionar];\r\n    const maxPermitido = (pedidoParaConcluir.itens[index].quantidadePedido || 0) - (pedidoParaConcluir.itens[index].quantidadeEntregue || 0);\r\n    const quantidadeAdicionada = value === '' ? '' : Math.min(parseInt(value, 10) || 0, maxPermitido);\r\n    novasQuantidades[index] = quantidadeAdicionada >= 0 || quantidadeAdicionada === '' ? quantidadeAdicionada : 0;\r\n    setQuantidadesParaAdicionar(novasQuantidades);\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal\">\r\n      <div className=\"modal-content\">\r\n        <h2>{pedidoParaConcluir?.itemParaEditar ? 'Quantidade a Entregar' : 'Concluir Pedido'}</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div>\r\n            <h3>Itens do Pedido</h3>\r\n            {Array.isArray(pedidoParaConcluir?.itens) && pedidoParaConcluir.itens.length > 0 ? (\r\n              <div className=\"itens-list\">\r\n                {pedidoParaConcluir.itens.map((item, index) => {\r\n                  const quantidadeRestante = (item.quantidadePedido || 0) - (item.quantidadeEntregue || 0);\r\n                  return (\r\n                    <div key={index} className=\"item-row\">\r\n                      <div className=\"item-info\">\r\n                        <span><strong>Código:</strong> {item.codigoDesenho}</span>\r\n                        <span><strong>Qtd Pedida:</strong> {item.quantidadePedido}</span>\r\n                        <span><strong>Qtd Entregue:</strong> {item.quantidadeEntregue || 0}</span>\r\n                        <span><strong>A Entregar:</strong> {quantidadeRestante - (parseInt(quantidadesParaAdicionar[index], 10) || 0)}</span>\r\n                      </div>\r\n                      <div className=\"quantidade-entregue\">\r\n                        <label htmlFor={`quantidadeEntregue-${index}`}>Adicionar Qtd Entregue:</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          id={`quantidadeEntregue-${index}`}\r\n                          value={quantidadesParaAdicionar[index]}\r\n                          onChange={(e) => handleQuantidadeChange(index, e.target.value)}\r\n                          min=\"0\"\r\n                          max={quantidadeRestante}\r\n                          disabled={quantidadeRestante <= 0}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            ) : (\r\n              <p>Sem itens para exibir.</p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"peso\">Peso (kg) {pedidoCompleto || !pedidoParaConcluir?.itemParaEditar ? '*' : ''}</label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"peso\"\r\n              value={peso}\r\n              onChange={(e) => setPeso(e.target.value)}\r\n              min=\"0\"\r\n              step=\"0.01\"\r\n              required={pedidoCompleto || !pedidoParaConcluir?.itemParaEditar}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"volume\">Volume (m³) {pedidoCompleto || !pedidoParaConcluir?.itemParaEditar ? '*' : ''}</label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"volume\"\r\n              value={volume}\r\n              onChange={(e) => setVolume(e.target.value)}\r\n              min=\"0\"\r\n              step=\"0.01\"\r\n              required={pedidoCompleto || !pedidoParaConcluir?.itemParaEditar}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"modal-buttons\">\r\n            <button type=\"submit\">Concluir</button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => {\r\n                setPeso('');\r\n                setVolume('');\r\n                setMostrarModalPesoVolume(false);\r\n                setPedidoParaConcluir(null);\r\n              }}\r\n            >\r\n              Cancelar\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalPesoVolume;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}